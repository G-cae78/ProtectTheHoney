<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin Login - ProtectTheHoney</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#071024; --bg2:#081428; --card:rgba(255,255,255,0.04); --muted:#b9c6dc;
  }
  body{
    margin:0;
    font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 60%);
    color:#e6eef8;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px;
  }
  .card{
    width:100%;
    max-width:900px;
    background:var(--card);
    border-radius:12px;
    box-shadow:0 10px 40px rgba(0,0,0,0.6);
    padding:24px;
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
    align-items:start;
  }
  .info{
    padding:12px 8px;
  }
  h1{ margin:0 0 6px; font-size:1.6rem;}
  p.lead{ color:var(--muted); margin:0 0 12px; }
  .links { display:flex; gap:8px; flex-wrap:wrap; margin-top:12px; }
  .links a{ color:#ffd166; text-decoration:none; font-weight:600; font-size:0.95rem; }
  .panel{
    background:rgba(0,0,0,0.25);
    padding:18px;
    border-radius:10px;
  }
  label{ display:block; font-size:0.85rem; margin-bottom:6px; color:var(--muted);}
  input[type="text"], input[type="password"], input[type="file"]{
    width:100%;
    padding:10px;
    margin-bottom:12px;
    border-radius:8px;
    border:1px solid rgba(255,255,255,0.06);
    background:rgba(255,255,255,0.02);
    color:inherit;
    font-size:0.95rem;
  }
  button{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:none;
    font-weight:700;
    cursor:pointer;
    background:linear-gradient(90deg,#ffb86b,#ff8a65);
    color:#071024;
  }
  .small{ font-size:0.83rem; color:var(--muted); margin-top:8px;}
  .hint{ font-size:0.82rem; color:#ffd166 }
  footer { margin-top:14px; color:var(--muted); font-size:0.82rem; }
  @media (max-width:880px){ .card{ grid-template-columns: 1fr; } }
  nav {
    width: 100%;
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(8px);
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    display: flex;
    justify-content: center;
    gap: 40px;
    padding: 14px 0;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 10;
  }
  nav a {
    text-decoration: none;
    color: #3d405b;
    font-weight: 600;
    font-size: 15px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: color 0.2s ease;
  }
  nav a:hover {
    color: #ff8a65;
  }
</style>
</head>
<body>
    <nav>
    <a href="./index.html">Home</a>
    <a href="./products.html">Products</a>
    <a href="./login.html">Login</a>
    <a href="./admin.html">Admin</a>
  </nav>
  <div class="card" role="main" aria-labelledby="admin-title">
    <div class="info">
      <h1 id="admin-title">Admin Dashboard</h1>
      <p class="lead">Restricted area — administrators only. Use your credentials to sign in.</p>

      <div class="panel">
        <p class="small"><strong>Active Services</strong></p>
        <ul class="small" style="margin:6px 0 0 16px; padding:0; color:var(--muted)">
          <li>File storage API</li>
          <li>Configuration management</li>
          <li>Analytics & user management</li>
        </ul>

        <div class="links" style="margin-top:12px;">
          <a href="/config.php">config.php</a>
          <a href="/backup.zip">backup.zip</a>
          <a href="/wp-admin">wp-admin</a>
          <a href="/api/upload">/api/upload</a>
        </div>

        <p class="hint" style="margin-top:12px;">Last login: 2025-10-01 09:12 UTC</p>
      </div>

      <footer>ProtectTheHoney &copy; 2025</footer>
    </div>

    <div>
      <div class="panel" aria-label="login panel">
        <form id="adminLogin" autocomplete="off">
          <!-- fake CSRF token to entice bots looking for tokens -->
          <input type="hidden" name="csrf_token" id="csrf_token" value="0a1b2c3d4e5f6g7h8i9j" />

          <label for="username">Username</label>
          <input id="username" name="username" type="text" autocomplete="off" placeholder="admin@example.com" />

          <label for="password">Password</label>
          <input id="password" name="password" type="password" autocomplete="new-password" placeholder="••••••••" />

          <label for="attachment">Upload config (optional)</label>
          <input id="attachment" name="attachment" type="file" />

          <button type="submit">Sign In</button>
          <p class="small">Forgot password? <a href="/reset">Reset</a></p>
        </form>

        <p class="small" style="margin-top:10px; color:var(--muted)">Note: This is a public honeypot page for research.</p>
      </div>
    </div>
  </div>

<script>
/*
  Update ENDPOINT to your API Gateway / Lambda invoke URL.
  Example: https://abcd1234.execute-api.us-east-1.amazonaws.com/prod/collect
*/
const ENDPOINT = 'https://rlvfmp3gt2.execute-api.us-east-1.amazonaws.com/default/HoneyPot1';

// helper: send as JSON POST
async function sendJson(payload){
  try {
    await fetch(ENDPOINT, {
      method: 'POST',
      mode: 'cors',
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json'
     },
      body: JSON.stringify(payload)
    });
  } catch (e) {
    console.warn('Honeypot send failed', e);
  }
}

// On form submit, capture fields + file metadata and send to Lambda
document.getElementById('adminLogin').addEventListener('submit', async function(ev){
  ev.preventDefault();

  const username = document.getElementById('username').value || '';
  const password = document.getElementById('password').value || '';
  const csrf = document.getElementById('csrf_token').value || '';
  const fileInput = document.getElementById('attachment');
  // capture file metadata (do not upload actual file to API to avoid large payloads)
  let fileMeta = null;
  if (fileInput && fileInput.files && fileInput.files.length){
    const f = fileInput.files[0];
    fileMeta = {
      name: f.name,
      size: f.size,
      type: f.type,
      lastModified: f.lastModified
    };
  }

  // Build event payload
  const payload = {
    event_type: 'admin_login_attempt',
    username,
    password,
    csrf_token: csrf,
    file_meta: fileMeta,
    path: "/admin-login",
    timestamp: new Date().toISOString(),
    // option: add navigator info client-side for extra metadata
    client: {
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      language: navigator.language
    }
  };

  // log locally for debugging
  console.log('Honeypot payload', payload);

  // send to lambda
  await sendJson(payload);

  // show plausible response to user / bot
  // choose 403 or fake 200 depending on your honeypot strategy
  alert('Sign-in failed: invalid credentials');

  // optionally redirect to fake admin dashboard to tempt further actions
  // location.href = '/admin/dashboard';
});
</script>
</body>
</html>
