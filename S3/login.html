<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login - ProtectTheHoney</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#071024; --bg2:#081428; --card:rgba(255,255,255,0.04);
    --muted:#b9c6dc; --accent-start:#ffb86b; --accent-end:#ff8a65;
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 60%);
    color:#e6eef8;
    -webkit-font-smoothing:antialiased;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
  }

  /* NAV */
  nav{
    width:100%;
    background: rgba(255,255,255,0.04);
    backdrop-filter: blur(6px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    display:flex;
    justify-content:center;
    gap:28px;
    padding:12px 0;
    position:fixed;
    top:0; left:0; z-index:20;
  }
  nav a{
    color:#e6eef8; text-decoration:none; font-weight:600; letter-spacing:0.4px;
  }
  nav a:hover{ color: #ffd166; }

  /* Page container */
  .wrapper{
    margin-top:92px; /* allow for fixed nav */
    width:100%;
    max-width:420px;
    padding:20px;
  }
  .container{
    background:var(--card);
    padding:24px;
    border-radius:12px;
    box-shadow:0 6px 30px rgba(2,6,23,0.7);
    text-align:center;
  }
  .logo{
    width:68px; height:68px; border-radius:50%;
    background:linear-gradient(135deg,var(--accent-start),var(--accent-end));
    display:inline-flex; align-items:center; justify-content:center; color:#071024;
    font-weight:700; font-size:28px; margin-bottom:12px;
  }

  h1{ margin:6px 0 6px; font-size:22px; }
  p.lead{ margin:0 0 16px; color:var(--muted); font-size:14px; }

  form { display:flex; flex-direction:column; gap:10px; }
  input[type="text"], input[type="password"]{
    width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.06);
    background:rgba(255,255,255,0.02); color:inherit; font-size:14px;
  }
  button{
    width:100%; padding:10px; border-radius:8px; border:none;
    background:linear-gradient(90deg,var(--accent-start),var(--accent-end));
    color:#071024; font-weight:700; cursor:pointer; font-size:14px;
  }
  .foot {
    margin-top:12px; font-size:13px; color:var(--muted);
  }
  @media (max-width:480px){
    .wrapper{ padding:12px }
  }
</style>
</head>
<body>

  <!-- NAV -->
  <nav>
    <a href="./index.html">Home</a>
    <a href="./products.html">Products</a>
    <a href="./login.html">Login</a>
    <a href="./admin.html">Admin</a>
  </nav>

  <div class="wrapper">
    <div class="container" role="main" aria-labelledby="login-title">
      <div class="logo">üêù</div>
      <h1 id="login-title">Login</h1>
      <p class="lead">Enter your credentials to sign in to the admin panel.</p>

      <form id="loginForm" autocomplete="off">
        <input type="text" id="username" name="username" placeholder="Username or email" autocomplete="off" />
        <input type="password" id="password" name="password" placeholder="Password" autocomplete="off" />
        <button type="submit">Log In</button>
      </form>

      <div class="foot">Forgot password? <a href="./reset.html" style="color:#ffd166;text-decoration:none">Reset</a></div>
    </div>
  </div>

<script>
  // Update this to your API Gateway / Lambda URL
  const ENDPOINT = 'https://rlvfmp3gt2.execute-api.us-east-1.amazonaws.com/default/HoneyPot1';

  async function sendPayload(payload){
    try {
      await fetch(ENDPOINT, {
        method: 'POST',
        mode: 'cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
    } catch (err) {
      console.warn('Send failed', err);
    }
  }

  document.getElementById('loginForm').addEventListener('submit', async function(ev){
    ev.preventDefault();
    const username = document.getElementById('username').value || '';
    const password = document.getElementById('password').value || '';

    const payload = {
      event_type: 'login_attempt',
      username,
      password,
      path: '/login',
      timestamp: new Date().toISOString(),
      client: {
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        language: navigator.language
      }
    };

    console.log('Honeypot payload', payload);
    await sendPayload(payload);

    // show plausible response
    alert('Authentication failed: invalid credentials');
    // optionally redirect or show fake dashboard to capture more activity:
    // location.href = '/admin.html';
  });
</script>
</body>
</html>
